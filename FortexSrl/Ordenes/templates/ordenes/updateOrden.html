{% extends 'register/index.html' %}
{% load static %}
{% load widget_tweaks %}
{% block head %}

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style>


        input[type=number]::-webkit-inner-spin-button {

            -webkit-appearance: none;

            margin: 0;

        }


        .select {
            overflow: hidden;
        }

        input[type=number] {

            -moz-appearance: textfield;

        }

    </style>

{% endblock %}
{% block content %}

    {{ form.errors }}
    <div class="container">
        <div class="d-flex justify-content-center">
            <h3>CREARE ORDINI</h3>
        </div>
        <hr>
    </div>


    <form method="POST">
        {% csrf_token %}
        <div class="container">
            <div class="row">
                {% if perms.Register.Administrador or perms.Register.Encargado or perms.Registro.Secretaria %}
                <div class="col container text-center">
                    <label for="asignado" class="mt-1"><h5><strong>Prodotto</strong></h5></label>

                    {{ form.producto|attr:"placeholder:Prodotto"|add_class:"form-control font-weight-bold rounded-pill m-2 text-center" }}

                </div>
                <div class="col container text-center">

                    <label for="asignado" class="mt-1"><h5><strong>Descrizione</strong></h5></label>

                    {{ form.descripcion|attr:"placeholder:Descrizione"|add_class:"form-control font-weight-bold rounded-pill m-2 text-center" }}
                </div>
{% endif %}
            </div>
            <div class="row">
                        {% if perms.Register.Administrador or perms.Register.Encargado or perms.Registro.Secretaria %}
                <div class="col container text-center">

                    <label for="asignado" class="mt-1"><h5><strong>Quantità ricevuta</strong></h5></label>
                    {{ form.cantidad_recibida|attr:"placeholder:Quantità ricevuta"|add_class:"form-control m-2 font-weight-bold rounded-pill text-center" }}
                </div>
{% endif %}
                <div class="col container text-center">
                    <label for="estado" class="mt-1"><h5><strong>Stato</strong></h5></label>
                    {{ form.estado|attr:"placeholder:Stato"|add_class:"form-control font-weight-bold rounded-pill m-2 text-center" }}

                </div>
                <div class="col container text-center">
                    <label for="ubicacion" class="mt-1"><h5><strong>Ubicazione</strong></h5></label>
                    {{ form.ubicacion|attr:"placeholder:Email"|add_class:"form-control font-weight-bold rounded-pill m-2 text-center" }}
                </div>
            </div>

            <div class="row">
                {% if perms.Register.Administrador or perms.Register.Encargado or perms.Registro.Secretaria %}
                <div class="col container text-center">
                    <label for="asignado" class="mt-1"><h5><strong>Data di consegna stimata</strong></h5></label>

                    {{ form.fecha_entrega_estimada|attr:"placeholder:Data di consegna stimata YYYY-MM-DD"|attr:"id:fecha_entrega_estimada"|add_class:"form-control rounded-pill m-2 font-weight-bold font-weight-bold text-center" }}
                </div>
{% endif %}
                <div class="col container text-center">
                    <label for="asignado" class="mt-1"><h5><strong>Assegnato a</strong></h5></label>
                    {{ form.asignado|add_class:"form-control rounded-pill m-2 font-weight-bold font-weight-bold text-center" }}

                </div>
            </div>
            <div class="row">
                {% if form.cantidadEntregada.value == None %}
                    {% if perms.Register.Administrador or perms.Register.Calidad1 or perms.Register.Encargado %}
                        <div class="col container text-center">
                            <label for="cantidadEntregada" class="mt-1 "><h5><strong>Quantità consegnata</strong></h5></label>
                            {{ form.cantidadEntregada|add_class:"form-control rounded-pill m-2 font-weight-bold font-weight-bold text-center" }}
                        </div>
                    {% endif %}
                {% endif %}

                {% if form.telaio.value == None %}

                    <div class="col container text-center">
                        <label for="cantidadEntregada" class="mt-1 "><h5><strong>Quantità per telaio</strong></h5></label>
                        {{ form.telaio|add_class:"form-control rounded-pill m-2 font-weight-bold font-weight-bold text-center" }}
                    </div>
                {% else %}
                    {% if perms.Register.Administrador %}
                        <div class="col container text-center">
                            <label for="cantidadEntregada" class="mt-1 "><h5><strong>Quantità per telaio</strong></h5></label>
                            {{ form.telaio|add_class:"form-control rounded-pill m-2 font-weight-bold font-weight-bold text-center" }}
                        </div>
                    {% else %}
                        </div>
                    {% endif %}
                {% endif %}
        </div>

        <div class="row">

            <div class="col cotainer text-center">

                <a href="javascript:history.back(-1);"
                   class="btn btn-secondary border m-2 rounded-pill" id="jamaica"><strong><i ID="japon" class="fas fa-chevron-circle-left"></i> RITORNARE</strong></a>.
                <button type="submit" id="jamaica2" class="btn btn-primary m-2 rounded-pill border"><strong><i id="japon2" class="far fa-paper-plane"></i> INVIARE</strong></button>
            </div>
        </div>

    </form>



    <script>

        $("#fecha_entrega_estimada").datepicker({
            dateFormat: "dd-mm-yy"
        });
    </script>
    <script>


        document.getElementById("producto").options[0].innerText = "Selezionare un prodotto...";
        document.getElementById("producto").options[0].disabled = 'true';

        document.getElementById("asignado").options[0].innerText = "Selezionare chi assegnare...";
        document.getElementById("asignado").options[0].disabled = 'true';

        document.getElementById("estado").options[0].innerText = "Selezionare uno stato...";
        document.getElementById("estado").options[0].disabled = 'true';

        document.getElementById("ubicacion").options[0].innerText = "Selezionare ubicazione...";
        document.getElementById("ubicacion").options[0].disabled = 'true';

        if ("{{user.groups.all.0}}" == "Pittore" || "{{user.groups.all.0}}" == "Stock" || "{{user.groups.all.0}}" == "Montaggio") {

            document.getElementById("estado").options[4].disabled = 'true';
            document.getElementById("estado").options[4].style.color = 'red';
        }

    </script>

    <script>
        var hola = document.getElementById("jamaica");
        hola.addEventListener("mouseenter", function (event) {

            var japon = document.getElementById("japon").className = "fas fa-chevron-circle-left fa-spin";

        });
        hola.addEventListener("mouseleave", function (event) {
            var japon = document.getElementById("japon").className = "fas fa-chevron-circle-left";
        });
        var hola2 = document.getElementById("jamaica2");

        hola2.addEventListener("mouseenter", function (event) {

            var japon2 = document.getElementById("japon2").className = "far fa-paper-plane fa-spin";

        });
        hola2.addEventListener("mouseleave", function (event) {
            var japon2 = document.getElementById("japon2").className = "far fa-paper-plane";
        });

    </script>

{% endblock %}